(self.webpackChunkdeviget_react_challenge=self.webpackChunkdeviget_react_challenge||[]).push([[115],{3435:(t,e,r)=>{"use strict";r.d(e,{dR:()=>y,j1:()=>_t,Sf:()=>i,RQ:()=>c,UI:()=>O,xP:()=>l,LI:()=>C,uX:()=>M,BC:()=>z});var n=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,a=r.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},o=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(n(arguments[e]));return t},a=/((((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/;function i(t,e){var r,n,o,i,u,c=void 0===e?{}:e,h=c.removeHash,f=void 0!==h&&h,p=c.trailingSlash,y=void 0===p?null:p;if("string"==typeof t){var d=a.exec(t);if(!d)throw new Error("Couldn't parse the provided URL.");r="",n=l(d[2]||"",y),o=s(i=d[6]||""),u=d[7]||""}else r=t.hostname||"",n=l(t.pathname||"",y),o=t.query||(t.search?s(t.search):{}),i=t.search||function(t,e){void 0===e&&(e="?");var r=Object.keys(t);if(0===r.length)return"";for(var n=[],o=0,a=r.length;o<a;o++){var i=r[o],s=String(t[i]);n.push(""===s?i:i+"="+encodeURIComponent(s))}return e+n.join("&")}(o),u=t.hash||"";return{hostname:r,pathname:n,query:o,search:i,hash:f?"":u,href:n+i+u}}function s(t,e){if(void 0===e&&(e="?"),!t||t[0]!=e)return{};for(var r={},n=t.slice(1).split("&"),o=0,a=n.length;o<a;o++){var i=n[o].split("=");r[i[0]]=i[1]?decodeURIComponent(i[1]):""}return r}function u(t){return""===t?[]:t.split("/")}function c(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=u(t),a=0;a<e.length;a++)n.push.apply(n,o(u(e[a])));var i=[],s=n.length-1;for(a=0;a<=s;a++){var c=n[a];".."===c?i.pop():"."===c||""===c&&0!==a&&a!==s||i.push(c)}return i.join("/")}function l(t,e){var r="/"===t.slice(-1);return"add"!==e||r?"remove"===e&&r&&t.length>1?t.slice(0,-1):t:t+"/"}var h,f=(h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),p=function(t){function e(e){var r=this,n=this.constructor.prototype;return(r=t.call(this,e)||this).__proto__=n,Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(r,r.constructor):Object.defineProperty(r,"stack",{value:(new Error).stack}),Object.defineProperty(r,"message",{value:e}),r}return f(e,t),e}(Error),y=function(t){function e(e){var r=t.call(this,"URL not found: "+e)||this;return r.pathname=e,r.status=404,r.name="NotFoundError",r}return f(e,t),e}(p),d=function(t){function e(e){var r=t.call(this,"URL not managed by router: "+e.href)||this;return r.url=e,r.name="OutOfRootError",r}return f(e,t),e}(p);function b(t,e,r){return Object.assign({type:t,request:e,url:i({pathname:e.mountpath,query:e.query})},r)}function v(t){var e=c(t.mountpath,t.path);return{type:"error",request:t,url:i({pathname:e,query:t.query}),error:new y(e)}}var m=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function w(t,e,r){var n,o,a,i,s,u,l;return function(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(h){switch(h.label){case 0:n="function"==typeof t?t:function(){return t};try{o=n(e,e.context)}catch(t){o=Promise.reject(t)}return g(o)?[3,1]:(a=r(o),[3,7]);case 1:i=o.then(x),s=function(t){var e={};return t.then((function(t){e.value=t,e.outcome="resolved"}),(function(t){e.error=t,e.outcome="rejected"})),e}(i),u=[b("busy",e,{promise:i})],h.label=2;case 2:return s.outcome?[3,4]:[4,u];case 3:return h.sent(),[3,2];case 4:return"rejected"!==s.outcome?[3,6]:((l=s.error)instanceof y&&!l.pathname&&(l.pathname=c(e.mountpath,e.path)),[4,[b("error",e,{error:l})]]);case 5:return h.sent(),[3,7];case 6:a=r(s.value),h.label=7;case 7:return a?Array.isArray(a)?[4,a.length?a:[]]:[3,9]:[3,11];case 8:return h.sent(),[3,11];case 9:return[5,m(a)];case 10:h.sent(),h.label=11;case 11:return[2]}}))}function g(t){return!!t&&!!t.then}function x(t){return function(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}function S(t,e,r){return void 0===r&&(r=""),t(e)}function _(t,e){var r,n,o,a;return function(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(i){switch(i.label){case 0:o=[],a=[],i.label=1;case 1:return(r=t.next()).done||(o=r.value||[]),(n=e.next()).done||(a=n.value||[]),[4,o.concat(a)];case 2:i.sent(),i.label=3;case 3:if(!r.done||!n.done)return[3,1];i.label=4;case 4:return[2]}}))}var k=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function O(t){return function(e){return function(r){return function(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(n){switch(n.label){case 0:return[5,k(w(t,r,(function(t){return S(t(e),r)})))];case 1:return n.sent(),[2]}}))}}}var P=function(){return(P=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function j(t,e){var r=t;if(r.length>1&&"/"===r.substr(-1)&&(r=r.substr(0,r.length-1)),"/"!==r[0]&&(r="/"+r),/\/{2,}/.test(r)&&(r=r.replace(/\/{2,}/g,"/")),0===r.length)throw new Error('You cannot use an empty string "" as a pattern!');for(var n=r.split("/").slice(1),o=[],a=[],i=["^"],s=0;s<n.length;s++){var u=n[s];u.length>1&&":"===u[0]?(o.push(u.slice(1)),a.push("\0"),i.push("([^/]+)")):(a.push(u),i.push(u.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")))}return{key:a.join("/"),matcher:e,pattern:r,pathParamNames:o.length?o:void 0,regExp:"/"===r?/^\/$/:new RegExp(i.join("/"))}}function R(t,e){var r=e.regExp.exec(t.path||"/");if(r){var n=r[0],o=t.path.slice(n.length)||"";if(!o.length||"/"===o[0]){var a=t.params;if(e.pathParamNames){a=P({},t.params);for(var i=0;i<e.pathParamNames.length;i++)a[e.pathParamNames[i]]=r[i+1]}var s=c(t.mountpath,n)||"/";return P(P({},t),{params:a,mountpath:s,path:o,url:o+t.search})}}}function E(t){return[].concat.apply([],t)}var T=function(){return(T=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},I=function(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},L=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,a=r.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};function C(t){if(!t)throw new Error("mount() must be supplied with a paths object.");var e=Object.keys(t),r=e.filter((function(t){return"*"!==t})).map((function(e){return j(e,t[e])})).sort((function(t,e){return(r=t.key)<(n=e.key)?-1:r>n?1:0;var r,n}));return function(n){return function(o){var a,i,s,u,c,l,h,f,p,y,d,m,w,g,x,_,k;return I(this,(function(O){switch(O.label){case 0:if(s=[],u=[],c=[],l=o.crawler,!(h=l&&(""===o.path||"/"===o.path)))return[3,5];(f=function(t,e,r){return n=this,o=void 0,i=function(){var n;return I(this,(function(o){switch(o.label){case 0:return n=E,[4,Promise.all(Object.entries(t).map((function(t){var n,o=L(t,2),a=o[0],i=o[1];return e("*"===a?"":a,r).then((n=i,function(t){return t.map((function(t){return[n,t]}))}))})))];case 1:return[2,n.apply(void 0,[o.sent()])]}}))},new((a=void 0)||(a=Promise))((function(t,e){function r(t){try{u(i.next(t))}catch(t){e(t)}}function s(t){try{u(i.throw(t))}catch(t){e(t)}}function u(e){var n;e.done?t(e.value):(n=e.value,n instanceof a?n:new a((function(t){t(n)}))).then(r,s)}u((i=i.apply(n,o||[])).next())}));var n,o,a,i}(t,l,o)).then((function(t){p=t}),(function(t){return y=t})),O.label=1;case 1:return[4,[b("busy",o,{promise:f})]];case 2:if(O.sent(),y)throw y;O.label=3;case 3:if(!p)return[3,1];O.label=4;case 4:return i=p.map((function(t,e){var r=L(t,2),a=r[0],i=r[1],s=T(T({},o),{mountpath:i.url.pathname,url:"",path:""});return c[e]=s,S(a(n),s,s.mountpath)})),[3,6];case 5:for(_=r.length-1;_>=0;_--)if(d=r[_],m=R(o,d)){i=[S(d.matcher(n),m,d.pattern)];break}i||(w=t["*"])&&(i=[S(w(n),o,"*")]),O.label=6;case 6:if(i)for(_=0;_<i.length;_++)(g=s[_])&&g.done||(g=s[_]=i[_].next()),g&&!g.done&&(u[_]=g.value);for(a=[b("mount",o,{patterns:e})],x=!1,_=0;_<s.length;_++)(k=u[_])&&(x=!0,h&&!k.some(q)&&(a=a.concat(b("crawl",c[_]))),a=a.concat(k));return l||x||a.push(v(o)),[4,a];case 7:O.sent(),O.label=8;case 8:if(a.filter(U).length)return[3,6];O.label=9;case 9:return[2]}}))}}}function U(t){return"busy"===t.type}function q(t){return"mount"===t.type}var D=function(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},G=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function A(t,e,r,n,o,a){return function(i){return function(s){return function(e,i){var s,u;return D(this,(function(c){switch(c.label){case 0:return s=e.path,(void 0===n?!i:n)&&s&&"/"!==s?[4,[v(e)]]:[3,2];case 1:return c.sent(),[3,4];case 2:return u=e.crawler&&!o||a&&!a(e)?function(){return D(this,(function(t){switch(t.label){case 0:return[4,[]];case 1:return t.sent(),[2]}}))}():w(t,e,(function(t){return r(t,e)})),[5,G(i?_(u,S(i,e)):u)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}(s,e?e(i):i)}}}function M(t,e){var r=(void 0===e?{}:e).exact;return A(t,void 0,(function(t,e){var r;return"string"==typeof t?r="/"===t[0]?t:c("/",e.mountpath,t):t&&(r=i(t).href),r?[b("redirect",e,{to:r})]:[]}),void 0===r||r,!0)}var H=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,a=r.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},N=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(H(arguments[e]));return t},Q=function(){return(Q=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},F=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function V(t,e){return function(r){return function(n){return function(e,r){return function(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(n){switch(n.label){case 0:return[5,F(w(t,e,(function(t){return S(r,Q(Q({},e),{context:t||{}}))})))];case 1:return n.sent(),[2]}}))}(n,e?e(r):r)}}}var Y=function(){return(Y=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},B=function(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},$=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function W(t,e){return function(r){return function(n){return function(e,r){return B(this,(function(n){switch(n.label){case 0:return[5,$(w(t,e,(function(t){var n=null===t?e.state:Y(Y({},e.state),t);return _(function(t){return B(this,(function(e){switch(e.label){case 0:return[4,t];case 1:return e.sent(),[2]}}))}(null===t?[]:[b("state",e,{state:n})]),S(r,Y(Y({},e),{state:n})))})))];case 1:return n.sent(),[2]}}))}(n,e?e(r):r)}}}var X=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,a=r.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};function z(t){var e;if(void 0===t&&(t={}),"function"==typeof t)e=t;else{var r=t.data,n=t.getData,o=t.error,a=t.head,i=t.getHead,s=t.headers,u=t.getHeaders,c=t.state,l=t.getState,h=t.status,f=t.getStatus,p=t.title,y=t.getTitle,d=t.view,v=t.getView;!function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}}(t,["data","getData","error","head","getHead","headers","getHeaders","state","getState","status","getStatus","title","getTitle","view","getView"]),e=function(t,e){var b,m=X(K(r,n,t,e),2),w=m[0],x=m[1];w?g(w)&&(w=w.then(J)):w={};var S,_,k,O,P,j,R=X(K(s,u,t,e),2),E=R[0],T=R[1],I=X(K(c,l,t,e),2),L=I[0],C=I[1],U=X(K(h,f,t,e),2),q=U[0],D=U[1],G=X(K(p,y,t,e),2),A=G[0],M=G[1],H=X(K(a,i,t,e),2),N=H[0],Q=H[1];return"HEAD"!==t.method&&(b=X(K(d,v,t,e),2),S=b[0],_=b[1]),x||T||C||D||M||Q||_?(k=this,O=void 0,j=function(){var t;return function(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(e){switch(e.label){case 0:return t={},[4,w];case 1:return t.data=e.sent(),t.error=o,[4,N];case 2:return t.head=e.sent(),[4,E];case 3:return t.headers=e.sent(),[4,L];case 4:return t.state=e.sent(),[4,q];case 5:return t.status=e.sent(),[4,A];case 6:return t.title=e.sent(),[4,S];case 7:return[2,(t.view=e.sent(),t)]}}))},new((P=void 0)||(P=Promise))((function(t,e){function r(t){try{o(j.next(t))}catch(t){e(t)}}function n(t){try{o(j.throw(t))}catch(t){e(t)}}function o(e){var o;e.done?t(e.value):(o=e.value,o instanceof P?o:new P((function(t){t(o)}))).then(r,n)}o((j=j.apply(k,O||[])).next())}))):{data:w,error:o,head:N,headers:E,state:L,status:q,title:A,view:S}}}return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)throw new Error("composeMatchers() expects at least one matcher.");return 1===t.length?t[0]:t.reduce((function(t,e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t(e.apply(void 0,N(r)))}}))}(V((function(t,r){return t.crawler?{}:e(t,r)})),A((function(t){return t.context.data}),undefined,(function(t,e){return t?[b("data",e,{data:t})]:[]})),A((function(t){return t.context.head}),void 0,(function(t,e){return t?[b("head",e,{head:t})]:[]})),A((function(t){return t.context.headers}),void 0,(function(t,e){return t?[b("headers",e,{headers:t})]:[]})),W((function(t){return t.context.state||null})),A((function(t){return t.context.status}),void 0,(function(t,e){return t?[b("status",e,{status:t})]:[]})),A((function(t){return t.context.title}),void 0,(function(t,e){return t?[b("title",e,{title:t})]:[]})),A((function(t){return t.context.view}),void 0,(function(t,e){return t?[b("view",e,{view:t})]:[]}),!0,!1,(function(t){return"HEAD"!==t.method})),A((function(t){return t.context.error}),void 0,(function(t,e){return t?[b("error",e,{error:t})]:[]})))}function J(t){return t||{}}function K(t,e,r,n){if(e){var o=e(r,n);return g(o)?[o.then(x),!0]:[o,!1]}return[t,!1]}var Z=function(){function t(t,e){this.close=t,this.observer=e,this.observer.start&&this.observer.start(this)}return t.prototype.unsubscribe=function(){this.closed||(this.closed=!0,this.close(this.observer),delete this.close,delete this.observer)},t}();function tt(t,e,r){return"function"==typeof t?{next:t,error:e,complete:r}:t}function et(t){return new Promise((function(e,r){t.subscribe({start:function(t){this.subscription=t},next:function(t){this.value=t},complete:function(){e(this.value),this.subscription.unsubscribe()},error:function(t){r(t),this.subscription.unsubscribe()}})}))}var rt=function(){function t(t,e,r){var n=this;this.handleUnsubscribe=function(t){var e=n.observers.indexOf(t);-1!==e&&n.observers.splice(e,1)},this.handleChange=function(t){if(t===n.lastListenId){n.lastListenId++,n.refresh();for(var e=n.result.done||n.result.value.every((function(t){return"busy"!==t.type})),r=0;r<n.observers.length;r++){var o=n.observers[r];o.next(n.result.value),e&&o.complete&&o.complete()}e&&delete n.matcherIterator}},this.refresh=function(){var t=n.matcherIterator.next();if(t.value&&(n.result=t),!n.result.done){var e=++n.lastListenId,r=function(){return n.handleChange(e)};Promise.race(n.result.value.filter(nt).map(ot)).then(r,r)}},this.url=t,this.lastListenId=0,this.observers=[],this.matcherIterator=r(e)}return t.prototype.subscribe=function(t,e,r){if(!this.matcherIterator)throw new Error("Can't subscribe to an already-complete RoutingObservable.");var n=tt(t,e,r);this.observers.push(n);var o=new Z(this.handleUnsubscribe,n);return 1===this.observers.length&&this.handleChange(this.lastListenId),o},t}();function nt(t){return"busy"===t.type}function ot(t){return t.promise}var at=function(t,e,r,n){return new(r||(r=Promise))((function(o,a){function i(t){try{u(n.next(t))}catch(t){a(t)}}function s(t){try{u(n.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(i,s)}u((n=n.apply(t,e||[])).next())}))},it=function(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},st=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,a=r.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i},ut=function(){function t(t,e,r,n,o,a){var i=this;this.handleUnsubscribe=function(t){var e=i.observers.indexOf(t);-1!==e&&i.observers.splice(e,1)},this.handleResolverUpdate=function(t){t===i.lastListenId&&(i.lastListenId++,i.isRefreshing?i.isRefreshScheduled||(i.isRefreshScheduled=!0):i.refresh())},this.refresh=function(){return at(i,void 0,void 0,(function(){var t,e,r,n,o,a,i,s,u,h,f,p,y,d,b,v,m,w,g=this;return it(this,(function(x){switch(x.label){case 0:this.isRefreshScheduled=!1,this.isRefreshing=!0,t=[],e=0,r=function(){var r,o,a,i,s,u,l,h,f,p,y;return it(this,(function(d){switch(d.label){case 0:r=n.mapItems[e],o=r.pathname,a=r.matcherIterator.next(),r.lastResult&&!a.value||(r.lastResult=a),i=r.lastResult.value,r.chunksCache=i||[],s=i.findIndex((function(t){return"error"===t.type||t.url.href.length>=r.url.href.length&&("mount"===t.type&&r.lastMountPatterns!==t.patterns||"redirect"===t.type&&r.lastRedirectTo!==t.to)})),d.label=1;case 1:if(!(s>=0&&s<i.length))return[3,6];if(u=i[s],s++,"error"===u.type||n.options.predicate&&!n.options.predicate(u,i))return n.removeFromQueue(r),[2,"continue-items"];if("redirect"===u.type&&(r.lastRedirectTo=u.to,n.options.followRedirects&&n.addToQueue(u.to,r.depth+1,r.walkedPatternLists,o,r.order)),"mount"!==u.type)return[3,5];if(l=u.patterns,r.lastMountPatterns=l,h=l.slice(0).sort().join("\n"),!l||r.walkedPatternLists.has(h))return[3,5];r.walkedPatternLists.add(h),f=0,d.label=2;case 2:return f<l.length?[4,n.expandPatterns(c(o,l[f]))]:[3,5];case 3:for(p=d.sent(),y=0;y<p.length;y++)n.addToQueue(p[y],r.depth+1,r.walkedPatternLists,o,r.order.concat(f,y));d.label=4;case 4:return f++,[3,2];case 5:return[3,1];case 6:return i&&(t=t.concat(i)),e++,[2]}}))},n=this,x.label=1;case 1:return this.mapItems&&e<this.mapItems.length?[5,r()]:[3,3];case 2:switch(x.sent()){case"continue-items":return[3,1]}return[3,1];case 3:if(!this.mapItems)return[2];for(o=[],a=0;a<this.mapItems.length;a++)i=this.mapItems[a],"mount"===(s=i.chunksCache[i.chunksCache.length-1]).type||"error"===s.type||"busy"!==s.type&&this.options.predicate&&!this.options.predicate(s,i.chunksCache)||o.push([c(i.pathname,"/"),i.chunksCache,i.order]);if(u=++this.lastListenId,h=function(){return g.handleResolverUpdate(u)},Promise.race(t.filter(ct).map(lt)).then(h,h),o.sort((function(t,e){var r=t[2],n=e[2];if(r.length<n.length)return-1;if(r.length>n.length)return 1;for(var o=0;o<r.length;o++){if(r[o]<n[o])return-1;if(r[o]>n[o])return 1}return 0})),this.isRefreshScheduled)this.refresh();else{for(f={},p=!0,y=0;y<o.length;y++)d=st(o[y],2),b=d[0],(v=d[1]).some((function(t){return"busy"===t.type}))&&(p=!1),f[l(b,"remove")]=v;for(m=0;m<this.observers.length;m++)(w=this.observers[m]).next(f),p&&w.complete&&w.complete();p&&(delete this.rootContext,delete this.mapItems,delete this.router,delete this.observers),this.isRefreshing=!1}return[2]}}))}))},this.observers=[],this.lastListenId=0,this.mapItems=[],this.router=o,this.rootContext=e,this.matcherGeneratorFunction=r,this.rootMapping=n,this.options=a,this.seenPathnames=new Set;var s=t.pathname;"/"===s.substr(-1)&&(s=s.substr(0,s.length-1)),this.addToQueue(s,0,new Set)}return t.prototype.subscribe=function(t,e,r){if(!this.observers)throw new Error("Can't subscribe to an already-complete RoutingObservable.");var n=tt(t,e,r);this.observers.push(n);var o=new Z(this.handleUnsubscribe,n);return 1===this.observers.length&&this.refresh(),o},t.prototype.expandPatterns=function(t){return at(this,void 0,void 0,(function(){var e;return it(this,(function(r){switch(r.label){case 0:return this.options.expandPattern?[4,this.options.expandPattern(t,this.router)]:[3,2];case 1:if(e=r.sent())return[2,e];r.label=2;case 2:return[2,[t].filter((function(t){return!/\/:/.test(t)}))]}}))}))},t.prototype.removeFromQueue=function(t){var e=this.mapItems.indexOf(t);-1!==e&&this.mapItems.splice(e,1)},t.prototype.addToQueue=function(t,e,r,n,o){if(void 0===o&&(o=[0]),!this.seenPathnames.has(t)&&(!this.options.maxDepth||e<=this.options.maxDepth)){this.seenPathnames.add(t);var a=i(t,{removeHash:!0}),s=R({body:null,context:this.rootContext,headers:this.options.headers||{},method:this.options.method||"HEAD",params:{},hostname:this.options.hostname||"",mountpath:"",query:a.query,search:a.search,hash:a.hash,path:a.pathname,url:a.pathname+a.search,originalUrl:a.href,state:{}},this.rootMapping);s&&this.mapItems.push({url:a,fromPathname:n,depth:e,pathname:t,order:o,walkedPatternLists:new Set(r),matcherIterator:this.matcherGeneratorFunction(s)})}},t}();function ct(t){return"busy"===t.type}function lt(t){return t.promise}var ht=function(){return(ht=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function ft(t,e){if(t){if("url"===e.type)return ht(ht({},t),{chunks:t.chunks.filter((function(t){return"url"!==t.type})),url:e.url});if("ready"!==t.type)return t}var r={lastChunk:e,method:e.request&&e.request.method,chunks:t?t.chunks.concat(e):[e],data:t?t.data:{},headers:t?t.headers:{},heads:t?t.heads:[],state:t?t.state:{},status:t?t.status:200,title:t&&t.title,url:t?t.url:e.url,views:t?t.views:[]};switch(e.type){case"busy":return ht(ht({},r),{type:"busy"});case"data":return ht(ht({},r),{type:"ready",data:ht(ht({},r.data),e.data)});case"error":return ht(ht({},r),{type:"error",error:e.error,status:r.status&&r.status>=400?r.status:e.error.status||500});case"head":return ht(ht({},r),{type:"ready",heads:r.heads.concat(e.head)});case"headers":return ht(ht({},r),{type:"ready",headers:ht(ht({},r.headers),e.headers)});case"redirect":return ht(ht({},r),{type:"redirect",to:e.to});case"state":return ht(ht({},r),{type:"ready",state:ht(ht({},r.state),e.state)});case"status":return ht(ht({},r),{type:"ready",status:e.status});case"title":return ht(ht({},r),{type:"ready",title:e.title});case"view":return ht(ht({},r),{type:"ready",views:r.views.concat(e.view)});default:return ht(ht({},r),{type:"ready"})}}var pt=function(){function t(t){this.context=t.context||{},this.matcherGenerator=t.routes();var e,r,n=t.basename;n&&"/"===n.slice(-1)&&(n=n.slice(0,-1)),this.rootMapping=(e=t.routes,void 0===(r=n)&&(r=""),""!==r?j(r,e):{pattern:r,key:"",regExp:new RegExp(""),matcher:e})}return t.prototype.setContext=function(t){this.context=t||{}},t.prototype.createObservable=function(t,e){var r=R({body:e.body,context:this.context,headers:e.headers||{},method:e.method||"GET",hostname:t.hostname,hash:t.hash,mountpath:"/",params:t.query,query:t.query,search:t.search,url:t.pathname+t.search,originalUrl:t.href,path:t.pathname,crawler:e.crawler,state:e.state||{}},this.rootMapping);if(r)return new rt(t,r,this.matcherGenerator)},t.prototype.createMapObservable=function(t,e){return void 0===e&&(e={}),new ut(i(t),this.context,this.matcherGenerator,this.rootMapping,this,e)},t.prototype.resolve=function(t,e){var r,n=this;if(void 0===e&&(e={}),Array.isArray(t))r=t.map((function(t){return i(t)}));else if("string"==typeof t)r=[i(t)];else if(t.url)r=[i((e=t).url)];else{if(!e)throw new Error("You must specify a URL for router.resolve().");r=[i(t)]}if(!r.length)return Promise.resolve([]);var o=r.map((function(t){return n.getPageRoutePromise(t,e)}));return Array.isArray(t)?Promise.all(o):o[0]},t.prototype.resolveSiteMap=function(t,e){return void 0===e&&(e={}),et(this.createMapObservable(t,e)).then((function(t){for(var e={},r={},n=Object.keys(t),o=0;o<n.length;o++){var a=n[o],s=t[a],u=s[s.length-1];"redirect"!==u.type?e[a]=[{type:"url",url:i(a)}].concat(s).reduce(ft,void 0):r[a]=u.to}return{routes:e,redirects:r}}))},t.prototype.resolveRouteMap=function(t,e){return void 0===e&&(e={}),this.resolveSiteMap(t,e).then((function(t){return t.routes}))},t.prototype.getPageRoutePromise=function(t,e){var r=this,n=this.createObservable(t,e);return n?et(n).then((function(n){for(var o=0;o<n.length;o++){var a=n[o];if("busy"===a.type)break;if("redirect"===a.type&&e.followRedirects)return r.getPageRoutePromise(i(a.to),e);if("error"===a.type)throw a.error}return[{type:"url",url:i(t)}].concat(n).reduce(ft,void 0)})):Promise.reject(new d(t))},t}();function yt(t){return e=this,r=void 0,o=function(){var e,r,n,o,a,i;return function(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(s){if(e=t.basename,r=t.context,n=t.routes,o=t.url,a=t.urls,i=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}(t,["basename","context","routes","url","urls"]),o&&a)throw new Error("You cannot pass both `url` and `urls` options to resolve(). Please pick one!");if(!o&&!a)throw new Error("You must pass one of `url` or `urls` options to resolve().");return[2,function(t){return new pt(t)}({basename:e,context:r,routes:n}).resolve(o||a,i)]}))},new((n=void 0)||(n=Promise))((function(t,a){function i(t){try{u(o.next(t))}catch(t){a(t)}}function s(t){try{u(o.throw(t))}catch(t){a(t)}}function u(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(t){t(r)}))).then(i,s)}u((o=o.apply(e,r||[])).next())}));var e,r,n,o}var dt=function(){this.promise=new Promise(function(t,e){this.resolve=t,this.reject=e}.bind(this)),Object.freeze(this)},bt=function(){return(bt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},vt=function(t,e,r,n){return new(r||(r=Promise))((function(o,a){function i(t){try{u(n.next(t))}catch(t){a(t)}}function s(t){try{u(n.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(i,s)}u((n=n.apply(t,e||[])).next())}))},mt=function(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},wt=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r},gt=function(){function t(t){var e=this;this.handleUnsubscribe=function(t){var r=e.observers.indexOf(t);-1!==r&&e.observers.splice(r,1)},this.handleChunkList=function(t){for(var r=!0,n=e._history.location,o=0;o<t.length;o++){var a=t[o];if("busy"===a.type&&(r=!1),"state"===a.type&&(e.ignoreNextLocationChange=!0,e._history.replace(bt(bt({},n),{state:(c=n.state,l=a.state,h=void 0,void 0===c&&(c={}),bt(bt({},l),((h={}).__navi__=c.__navi__,h)))}))),"redirect"===a.type){var s=(void 0===(u=n.state)&&(u={}),(u.__navi__||{}).revertTo);return void(s?(e.ignoreNextLocationChange=!0,e._history.replace(bt(bt({},n),{state:s})),e._history.push(a.to)):e._history.replace(a.to))}}var u,c,l,h;e.setRoute([{type:"url",url:i(e.lastHandledLocation)}].concat(t).reduce(ft,void 0),r)},this._history=t.history,this.observers=[],this.isLastRouteSteady=!1,this.navigationsSinceSteady=0,this.basename=t.basename,this.matcher=t.routes,this._router=new pt({context:t.context,routes:t.routes,basename:t.basename}),this.trailingSlash=void 0===t.trailingSlash?"remove":t.trailingSlash,this.unlisten=this._history.listen((function(t){return e.handleLocationChange(t,!1)})),this.navigate=this.navigate.bind(this)}return t.prototype.dispose=function(){this.observers.length=0,this.unlisten(),delete this.unlisten,delete this._history,this.observableSubscription&&this.observableSubscription.unsubscribe(),delete this.observableSubscription,delete this._router,delete this.waitUntilSteadyDeferred,delete this.lastRoute,delete this._router},t.prototype.go=function(t){return vt(this,void 0,void 0,(function(){var e,r=this;return mt(this,(function(n){switch(n.label){case 0:return e=new Promise((function(t){var e=r._history.listen((function(){e(),t()}))})),this._history.go(t),[4,e];case 1:return n.sent(),[2,this.getRoute()]}}))}))},t.prototype.goBack=function(){return this.go(-1)},t.prototype.goForward=function(){return this.go(1)},t.prototype.navigate=function(t,e){var r;if(void 0===e&&(e={}),"string"==typeof t)r=i(t);else if(t.url)r=i((e=t).url);else{if(!t)throw new Error("You must specify a URL or state to navigation.navigate().");r=i(t)}var n,o,a,s,u,c=this._history.location,l=e.replace||!1!==e.replace&&c.pathname===r.pathname&&c.search===r.search&&c.hash===r.hash;return this._history[l?"replace":"push"]({pathname:r.pathname,search:r.search,hash:r.hash,state:(n={revertTo:l?c.state:void 0,method:e.method,headers:e.headers,body:e.body,state:e.state},a=n.revertTo,s=n.state,u=wt(n,["revertTo","state"]),a&&(a=bt({},a)).__navi__&&delete a.__navi__.revertTo,bt(bt({},s),((o={}).__navi__={requestDataWithoutState:u,revertTo:a},o)))}),this.getRoute()},t.prototype.prefetch=function(t){return vt(this,void 0,void 0,(function(){return mt(this,(function(e){switch(e.label){case 0:return[4,yt({basename:this.basename,routes:this.matcher,context:this._router.context,url:t})];case 1:return e.sent(),[2]}}))}))},t.prototype.refresh=function(){return this.handleLocationChange(this._history.location,!0),this.getRoute()},t.prototype.setContext=function(t){return this._router.setContext(t),this.refresh()},t.prototype.getCurrentValue=function(){return this.lastRoute},t.prototype.getRoute=function(){return vt(this,void 0,void 0,(function(){return mt(this,(function(t){return this.isLastRouteSteady?[2,this.lastRoute]:(this.waitUntilSteadyDeferred||(this.waitUntilSteadyDeferred=new dt),[2,this.waitUntilSteadyDeferred.promise])}))}))},t.prototype.extractState=function(){return this._history.location.state},t.prototype.subscribe=function(t,e,r){var n=tt(t,e,r);return this.observers.push(n),new Z(this.handleUnsubscribe,n)},t.prototype.handleLocationChange=function(t,e){if(this.ignoreNextLocationChange)this.ignoreNextLocationChange=!1;else if(++this.navigationsSinceSteady>100)console.error("Detected possible navigation loop with 100 navigations between steady routes. Bailing.");else{if(null!==this.trailingSlash){var r=l(t.pathname,this.trailingSlash);if(t.pathname!==r)return void this._history.replace(bt(bt({},t),{pathname:r}))}var n=i(t),o=this.lastHandledLocation;this.lastHandledLocation=t,this.observableSubscription&&this.observableSubscription.unsubscribe();var a=this._router.createObservable(n,function(t){void 0===t&&(t={});var e=bt({},t);delete e.__navi__;var r=t.__navi__||{};return bt(bt({},r.requestDataWithoutState),{state:Object.keys(e).length?e:void 0})}(t.state));if(a)this.observableSubscription=a.subscribe(this.handleChunkList);else if(!o)throw new d(n)}},t.prototype.setRoute=function(t,e){if(t!==this.lastRoute){this.lastRoute=t,this.isLastRouteSteady=e,e&&(this.navigationsSinceSteady=0);for(var r=0;r<this.observers.length;r++)this.observers[r].next(t);this.isLastRouteSteady&&this.waitUntilSteadyDeferred&&(this.waitUntilSteadyDeferred.resolve(t),delete this.waitUntilSteadyDeferred)}},t}();var xt=r(9731),St=function(){return(St=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function _t(t){!t.state&&void 0!==typeof window&&window.__NAVI_STATE__&&(t.state=window.__NAVI_STATE__,delete window.__NAVI_STATE__);var e=t.history||(0,xt.lX)();t.state&&e.replace(St(St({},e.location),{state:t.state}));var r=new gt({history:e,basename:t.basename,context:t.context,routes:t.routes,trailingSlash:t.trailingSlash});return r.refresh(),r}}}]);